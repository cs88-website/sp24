<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width">

    <meta name="description" content ="C88C: Computational Structures in Data Science" />
    <meta name="keywords" content ="CS88, C88C, Computer Science, Data Science, Programming, Berkeley, EECS, Python, intro CS, comp sci" />
    <meta name="author" content ="Michael Ball, Ethan Yoo, Rebecca Dang, Michelle Chen, Ramya Chitturi, John Teng, Karim El-Refai, Liliana Gonzalez, Angela Bi, Sean Yang, Christy Quang, Morgan Dehdashti, Miha Bhaskaran, Satleen Gill, Richik Pal, Meng-Han Wu, Nicholas Chae" />

    <link rel="stylesheet" href="/sp24/assets/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/sp24/assets/css/style.css">
    <link rel="icon" href="/sp24/assets/images/favicon.ico">
    <link rel="stylesheet" href="/sp24/assets/css/mono-blue.css">

    <link rel="stylesheet" type="text/css" href="/sp24/assets/css/resource.css" />
<link rel="stylesheet" type="text/css" href="/sp24/assets/css/hw.css"/>


    <title>Homework 9 | C88C Spring 2024</title>

  </head>

  <body id="index" class="home">
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar-collapse-section" aria-label="Toggle Nav Menu" aria-expanded="false">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/sp24/">C88C</a>
        </div>

        <div class="collapse navbar-collapse" id="navbar-collapse-section">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="/sp24/">Calendar</a></li>
            <li><a href="/sp24/articles/resources.html">Resources</a></li>
            <li><a href="/sp24/weekly-schedule.html">Google Calendar</a></li>
            <li><a href="/sp24/articles/about.html">Syllabus</a></li>
            <li><a href="https://edstem.org/us/courses/51226/discussion/" target="_blank">Ed</a></li>
            <li><a href="/sp24/staff.html">Staff</a></li>
            <li><a href="https://oh.c88c.org/" target="_blank">OH Queue</a></li>
            <li><a href="https://tutor.cs61a.org/" target="_blank">Python Tutor</a></li>
            <li><a href="https://bcourses.berkeley.edu/courses/1531774/external_tools/90481" target="_blank">Recordings</a></li>
          </ul>
        </div>
      </div>
    </nav>

    

    <div id="content" class="container">
      <div class='row'>
  <div class='col-md-9'>
    <div class='page-header'>
      <div class="row row-no-gutters">
    <div class="col-md-8">
        <h1 class="content-title-brand" style="padding-top: 0;">
            Homework 9
            <br>
            <small><i>Due at 11:59:59 pm on Thursday, 4/11/2024.</i></small>
        </h1>
    </div>
    <div class="col-md-4">
        <a class="h1 btn btn-lg" href="hw09.zip">hw09.zip</a>
    </div>
</div>
    </div>

    <h2>Instructions</h2>

<p>Download <a href="hw09.zip"> hw09.zip</a>.
    Inside the archive, you will find starter files for the questions in this homework,
    along with a copy of the OK autograder.</p>

<p><strong>Readings:</strong> This homework relies on following references:</p>

<ul>
  <li><a href="https://composingprograms.com/pages/29-recursive-objects.html#linked-list-class">Section 2.9.1</a></li>
</ul>

    


<h2 id="trees">Trees</h2>


<p>Our <code>Tree</code> consists of an <code>value</code> and a list of its
<code>branches</code>. To create a tree and access its root and branches, use the
following constructor and selectors:</p>

<ul>
  <li><p>Constructor</p>

  <ul>
    <li><code>Tree(value, branches)</code>: creates a tree object with the given <code>root</code> and list of <code>branches</code>.</li>
    <li><code>Tree(value)</code>: creates a tree object with no branches to make a leaf, similar to what we saw with linked lists.</li>
  </ul></li>
  <li><p>Selectors</p>

  <ul>
    <li><code>tree.value</code>: returns the value of the root of the <code>tree</code>.</li>
    <li><code>tree.branches</code>: returns the list of branches of the given <code>tree</code>.</li>
    <li><code>tree.is_leaf()</code>: returns <code>True</code> if <code>tree</code>'s list of <code>branches</code> is empty, and <code>False</code> otherwise. Notice this is a function call</li>
  </ul></li>
</ul>

<p>For example, the tree generated by</p>

<pre><code>t = Tree(1, [Tree(2),
             Tree(3, [Tree(4), Tree(5)]),
             Tree(6, [Tree(7)])])</code></pre>

<p>would look like this:</p>

<pre><code>   1
 / | \
2  3  6
  / \  \
 4   5  7</code></pre>

<p>It may be easier to visualize this translation by formatting the code
like this:</p>

<pre><code>t = Tree(
    1,
    [
        Tree(2),
        Tree(3, [Tree(4), Tree(5)] ),
        Tree(6, [Tree(7)] )
    ]
)</code></pre>

<p>To extract the number <code>3</code> from this tree, which is the value of the root of
its second branch, we would do this:</p>

<pre><code>t.branches[1].value</code></pre>

<p>Here is the implementation of the tree class, with the <code>__repr__</code> function giving you what you need to type to create a tree when you enter an instance of the tree into the interpreter, and the <code>__str__</code> function giving you a pretty version of a tree when you print it.</p>

<pre><code>class Tree:
    def __init__(self, value, branches=()):
        self.value = value
        for branch in branches:
            assert isinstance(branch, Tree)
        self.branches = list(branches)

    def __repr__(self):
        if self.branches:
            branches_str = &#x27;, &#x27; + repr(self.branches)
        else:
            branches_str = &#x27;&#x27;
        return &#x27;Tree({0}{1})&#x27;.format(self.value, branches_str)

    def __str__(self):
        def print_tree(t, indent=0):
            tree_str = &#x27;  &#x27; * indent + str(t.value) + &quot;\n&quot;
            for b in t.branches:
                tree_str += print_tree(b, indent + 1)
            return tree_str
        return print_tree(self).rstrip()

    def is_leaf(self):
        return not self.branches</code></pre>

<h3 class="question" id="q1">Question 1: Same Shape</h3>

<p>Write a function <code>same_shape</code> that returns <code>True</code> if two <code>Tree</code>s have the same
shape. Two trees have the same shape if they have the same number of children
and each of their children have the same shape.</p>

<solution>

<pre><code>def same_shape(t1, t2):
    &quot;&quot;&quot;Returns whether two Trees t1, t2 have the same shape. Two trees have the
    same shape if they have the same number of branches and each of their
    children have the same shape.

    &gt;&gt;&gt; t, s = Tree(1), Tree(3)
    &gt;&gt;&gt; same_shape(t, t)
    True
    &gt;&gt;&gt; same_shape(t, s)
    True
    &gt;&gt;&gt; t = Tree(1, [Tree(2), Tree(3)])
    &gt;&gt;&gt; same_shape(t, s)
    False
    &gt;&gt;&gt; s = Tree(4, [Tree(7)])
    &gt;&gt;&gt; same_shape(t, s)
    False
    &gt;&gt;&gt; s.branches.append(Tree(6)) # Add a new leaf to s to make it same shape as t
    &gt;&gt;&gt; same_shape(t, s)
    True
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre class="pre-copy-block"><code>python3 ok -q same_shape</code></pre>

<h3 class="question" id="q2">Question 2: Cumulative Sum</h3>

<p>Write a function <code>cumulative_sum</code> that returns a new <code>Tree</code>, where each value is the sum of all values in the corresponding subtree of the old <code>Tree</code>.</p>

<solution>

<pre><code>def cumulative_sum(t):
    &quot;&quot;&quot;Return a new Tree, where each value is the sum of all values in the
    corresponding subtree of t.

    &gt;&gt;&gt; t = Tree(1, [Tree(3, [Tree(5)]), Tree(7)])
    &gt;&gt;&gt; cumulative = cumulative_sum(t)
    &gt;&gt;&gt; t
    Tree(1, [Tree(3, [Tree(5)]), Tree(7)])
    &gt;&gt;&gt; cumulative
    Tree(16, [Tree(8, [Tree(5)]), Tree(7)])
    &gt;&gt;&gt; cumulative_sum(Tree(1))
    Tree(1)
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre class="pre-copy-block"><code>python3 ok -q cumulative_sum</code></pre>

<h3 class="question" id="q3">Question 3: Find Level</h3>

<p>Implement <code>find_level</code>, which takes a tree <code>t</code> and an integer <code>level</code> and returns a list of all the values that have depth <code>level</code>. If no such values exist, return the empty list. For a refresher on the depth of a node, check out <a href="https://stackoverflow.com/questions/2603692/what-is-the-difference-between-tree-depth-and-height">here</a>.</p>

<solution>

<pre><code>def find_level(t, level):
    &quot;&quot;&quot;
    &gt;&gt;&gt; t = Tree(1, [Tree(2, [Tree(4), Tree(5)]), Tree(6, [Tree(7)])])
    &gt;&gt;&gt; find_level(t, 2)
    [4, 5, 7]
    &gt;&gt;&gt; find_level(t, 1)
    [2, 6]
    &gt;&gt;&gt; find_level(t, 5)
    []
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre class="pre-copy-block"><code>python3 ok -q find_level</code></pre>

<h3 class="question" id="q4">Question 4: Merge Trees</h3>

<p>Implement <code>merge_trees</code>, which takes in two trees <code>t1</code> and <code>t2</code> and merges them into a single new tree where each entry is the result of applying the two-argument function <code>fn</code> to each of the corresponding entries. Assume <code>t1</code> and <code>t2</code> are the same shape, so the merge is always possible.</p>

<solution>

<pre><code>def merge_trees(t1, t2, fn):
    &quot;&quot;&quot;
    &gt;&gt;&gt; one = Tree(1, [Tree(2, [Tree(4), Tree(5)]), Tree(6)])
    &gt;&gt;&gt; two = Tree(11, [Tree(10, [Tree(10), Tree(10)]), Tree(10)])
    &gt;&gt;&gt; merge_trees(one, two, lambda x, y: x + y)
    Tree(12, [Tree(12, [Tree(14), Tree(15)]), Tree(16)])
    &gt;&gt;&gt; merge_trees(one, two, lambda x, y: y &#x2d; x)
    Tree(10, [Tree(8, [Tree(6), Tree(5)]), Tree(4)])
    &quot;&quot;&quot;
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre class="pre-copy-block"><code>python3 ok -q merge_trees</code></pre>


<h2 id="exceptions">Exceptions</h2>


<p>You've learned how to raise exceptions, but it's also important to catch exceptions when necessary. Instead of letting the exception propogate back to the user, we can catch it using a <code>try...except</code> block and allow the program to continue.</p>

<pre><code>try:
    &lt;try suite&gt;
except Exception as e:
    &lt;except suite&gt;</code></pre>

<p>We put the code that might raise an exception in the <code>&lt;try suite&gt;</code>. If an exception of type <code>Exception</code> is raised, then the program will skip the rest of that suite and execute the <code>&lt;except suite&gt;</code>. Generally, we want to be specify exactly which <code>Exception</code> we want to handle, such as <code>TypeError</code> or <code>ZeroDivisionError</code>.</p>

<p>Notice that we can catch the exception <code>as e</code>. This assigns the exception object to the variable <code>e</code>.  This can be helpful when we want to use information about the exception that was raised.</p>

<pre><code>&gt;&gt;&gt; try:
...     1/0
...     raise ValueError     # this line is not executed!
... except ZeroDivisionError as e:
...     print(&#x27;The try block raised a &#x27; + str(e) + &#x27; error.&#x27;)
The try block raised a division by zero error.</code></pre>

<h3 class="question" id="q5">Question 5: Quiet get</h3>

<p>You have seen that indexing into a list with an invalid index raises an exception. For example:</p>

<pre><code>&gt;&gt;&gt; lst = [5, 4, 3]
&gt;&gt;&gt; lst[5]
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
IndexError: list index out of range</code></pre>

<p>Similarly, looking up a key that doesn't exist in a dictionary raises an exception.</p>

<pre><code>&gt;&gt;&gt; dct = {&#x27;a&#x27;: 1}
&gt;&gt;&gt; dct[&#x27;b&#x27;]
Traceback (most recent call last):
  File &quot;&lt;stdin&gt;&quot;, line 1, in &lt;module&gt;
KeyError: &#x27;b&#x27;</code></pre>

<p>However, the <code>get</code> method of <code>dict</code> is more forgiving. If the key is not in the
dictionary it returns a value that you provide, defaulting to <code>None</code>. For example:</p>

<pre><code>&gt;&gt;&gt; retrieved = dct.get(&#x27;b&#x27;)
&gt;&gt;&gt; print(retrieved)
None
&gt;&gt;&gt; dct.get(&#x27;b&#x27;, &#x27;wow&#x27;)
&#x27;wow&#x27;</code></pre>

<p>Use exception handling to complete the function <code>quiet_get</code> to obtain similar behavior
for <strong>both lists and dictionaries</strong>.</p>

<p>We have provided the <code>try</code> part of the statement using indexing, rather than <code>get</code>. <strong>You need to write the <code>except</code> clause.</strong></p>

<solution>

<pre><code>def quiet_get(data, selector, missing=None):
    &quot;&quot;&quot;Return data[selector] if it exists, otherwise return missing.

    &gt;&gt;&gt; quiet_get([1, 2, 3], 1)
    2
    &gt;&gt;&gt; quiet_get([1, 2, 3], 4) # no missing argument passed in, so returns None
    &gt;&gt;&gt; quiet_get([1, 2, 3], 4, &#x2d;1)
    &#x2d;1
    &gt;&gt;&gt; quiet_get({&#x27;a&#x27;: 2, &#x27;b&#x27;: 5}, &#x27;a&#x27;, &#x2d;1)
    2
    &gt;&gt;&gt; quiet_get({&#x27;a&#x27;: 2, &#x27;b&#x27;: 5}, &#x27;d&#x27;, &#x2d;1)
    &#x2d;1
    &quot;&quot;&quot;
    try:
        return data[selector]
    "*** YOUR CODE HERE ***"</code></pre>

</solution>

<p>Use OK to test your code:</p><pre class="pre-copy-block"><code>python3 ok -q quiet_get</code></pre>



<h2 id='submission'>Submission</h2>

<p>
    When you are done, submit your file to <a href="https://www.gradescope.com/courses/693229" target="_blank">Gradescope</a>.
    You only need to upload the following files:
    
<ul>
  <li><code>hw09.py</code></li>
</ul>

    You may submit more than once before the deadline; only the final submission will be graded.
    It is your responsibility to check that the autograder on Gradescope runs as expected after
    you upload your submission.
</p>
  </div>

  <div class='col-md-3'>
    <nav class='hidden-print hidden-sm hidden-xs sidebar'>
      <ul>
  <li><a href="#trees">Trees</a></li>
  <ul>
  <li><a href="#q1">Question 1: Same Shape</a></li>
  <li><a href="#q2">Question 2: Cumulative Sum</a></li>
  <li><a href="#q3">Question 3: Find Level</a></li>
  <li><a href="#q4">Question 4: Merge Trees</a></li>
</ul>

  <li><a href="#exceptions">Exceptions</a></li>
  <ul>
  <li><a href="#q5">Question 5: Quiet get</a></li>
</ul>

</ul>

    </nav>
  </div>

</div>
    </div>

    <script src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>
    <script src="/sp24/assets/js/bootstrap.min.js"></script>
    <!-- TODO: Move to specific pages... -->
    <script src="/sp24/assets/js/highlight.pack.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
  $('.sidebar ul').addClass('nav nav-stacked');
  $('body').scrollspy({
    target: '.sidebar',
    offset: 40
  });
</script>

  </body>
</html>
